define(["adminApp","ui-codemirror"],function(t){t.controller("EditorController",["$scope","$http","$state","$stateParams","$mdToast","breadcrumb","adminHttp",function(t,e,o,i,n,l,d){function r(){var t=i.id;t&&d({method:"GET",url:"/blog/info?id="+t}).success(function(t){t?(u.isUpdateModel=!0,a(b,t,u.blog)):u.isUpdateModel=!1}).error(function(){u.isUpdateModel=!1})}function a(t,e,o){if("object"==typeof t)for(var i in t)o[t[i]]=e[t[i]]}function c(){var t={bottom:!1,top:!0,center:!0,left:!1,right:!1};return Object.keys(t).filter(function(e){return t[e]}).join(" ")}function s(){var t=u.isUpdateModel?"Editor Success":"Create Success";n.show(n.simple().action("OK").textContent(t).position(c()).hideDelay(3e3))}var u=this;u.editorOptions={lineWrapping:!0,lineNumbers:!0,mode:"markdown"};var b=["id","title","type","content","currentDate"];u.blog={title:"",type:"",content:""},u.isUpdateModel=!1,u.submitBlog=function(){if(void 0!==u.blog&&void 0!==u.blog.title&&""!==u.blog.title){u.isUpdateModel&&(u.blog.isUpdate=!0);var t="POST";delete u.blog.lastUpdateDate,delete u.blog.currentDate,d({url:"/blog",data:u.blog,method:t}).success(function(){s(),o.go("main.blog.list")})}},u.cancel=function(){u.isUpdateModel&&u.blog.id?o.go("main.blog.info",{id:u.blog.id}):o.go("main.blog.list")},r()}])});