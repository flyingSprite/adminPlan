define(["adminApp"],function(c){c.controller("DocsSubjectController",["$state","breadcrumb","api",function(c,e,t){function o(c,e){for(var t=c.length-1;t>=0;t--)c[t].id===e.id&&c.splice(t,1)}e("Document Subject",[{name:"Document",link:"main.docs.subject"},{name:"Subject",link:"main.docs.subject"}]);var n=this;n.newDocSubject=!1,n.newDocSubjectName="",n.docSubjects=[],t.doc.getSubject(function(c){c&&200===c.code&&c.data&&(n.docSubjects.length=0,angular.forEach(c.data,function(c){this.push(c)},n.docSubjects))}),n.innerToSubject=function(e){c.go("main.docs.wiki",{id:e.id})},n.cancelNewDocSubject=function(){n.newDocSubject=!1,n.newDocSubjectName=""},n.toCreateNewDocSubject=function(){console.log(n.newDocSubjectName),n.newDocSubjectName&&t.doc.postSubject({name:n.newDocSubjectName},function(c){console.log(c),c&&200===c.code&&c.data&&(n.cancelNewDocSubject(),n.docSubjects.push(c.data))})},n.toDeleteDocSubject=function(c){t.doc.deleteSubject(c.id,function(){o(n.docSubjects,c)})}}])});