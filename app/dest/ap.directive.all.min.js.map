{"version":3,"sources":["ap.directive.all.min.js"],"names":["apDirective","angular","module","constant","name","files","directive","restrict","scope","content","transclude","template","link","$scope","element","attrs","$","slimscroll","height","controller","img","templateUrl","title","url","author","date","comment","authorUrl","total","page","size","click","initPager","currentPage","totalPages","parseInt","pageNumber","addArray","arr","start","end","push","toPage","num","prevPage","nextPage","getNumber","$watch"],"mappings":"AACA,GAAIA,aAAcC,QAAQC,OAAO,kBAKjCF,aAMCG,SAAS,qBAENC,KAAK,mBACLF,QAAO,EACPG,OACE,kEAILC,UAAU,eAAgB,WACzB,OACEC,SAAU,MACVC,OACEC,QAAS,KAEXC,YAAY,EACZC,SAAU,yDACVC,MAAO,SAAU,UAAW,QAC1B,SAAUC,EAAQC,EAASC,GACzBC,EAAEF,GAASG,YACTC,OAAQ,WAIdC,YAAa,SAAU,SAAUN,SAMrCb,YAAYM,UAAU,eAAgB,WACpC,OACEC,SAAU,MACVC,OACEY,IAAK,IACLX,QAAS,KAGXY,YAAa,4CACbF,YAAa,SAAU,SAAUN,SAMrCb,YAAYM,UAAU,gBAAiB,WACrC,OACEC,SAAU,IACVC,OACEc,MAAO,IACPC,IAAK,IACLd,QAAS,IACTW,IAAK,IACLI,OAAQ,IACRC,KAAM,IACNC,QAAS,IACTC,UAAW,KAEbN,YAAa,uCAgCbF,YAAa,SAAU,SAAUN,SAQrCb,YAAYM,UAAU,aAAc,WAClC,OACEC,SAAU,MACVC,OACEoB,MAAO,IACPC,KAAM,IACNC,KAAM,IACNC,MAAO,KAGTV,YAAa,4CACbF,YAAa,SAAU,SAAUN,GA8D/B,QAASmB,KACP,GAAIJ,GAAQf,EAAOe,MACfE,EAAOjB,EAAOiB,IAClBjB,GAAOoB,YAAcpB,EAAOgB,KAC5BhB,EAAOqB,WAAaN,EAAQE,EAAO,EAAIK,SAASP,EAAQE,GAAQ,EAAIF,EAAQE,EAG9E,QAASC,GAAMK,GACTvB,EAAOkB,OACTlB,EAAOkB,MAAMK,GAIjB,QAASC,GAASC,EAAKC,EAAOC,GAC5B,IAAKD,EAAgBC,GAATD,EAAcA,IACxBD,EAAIG,KAAKF,EAEX,OAAOD,GA9ETzB,EAAOoB,YAAcpB,EAAOgB,KAC5BhB,EAAOqB,WAAarB,EAAOiB,KAE3BjB,EAAO6B,OAAS,SAAUC,GACxBZ,EAAMY,IAGR9B,EAAO+B,SAAW,WAChB,GAAIX,GAAcpB,EAAOoB,YAAc,CACvCA,GAA4B,EAAdA,EAAkB,EAAIA,EACpCF,EAAME,IAGRpB,EAAOgC,SAAW,WAChB,GAAIZ,GAAcE,SAAStB,EAAOoB,aAAe,CACjDA,GAAcA,EAAcpB,EAAOqB,WAAarB,EAAOqB,WAAaD,EACpEF,EAAME,IAGRpB,EAAOiC,UAAY,WACjB,GAAIZ,GAAaC,SAAStB,EAAOqB,YAC7BD,EAAcE,SAAStB,EAAOoB,aAC9BK,IACJ,IAAkB,GAAdJ,EACF,MAAOG,GAASC,EAAK,EAAGJ,EAExB,IAAoB,GAAfD,EACHI,EAASC,EAAK,EAAGL,EAAc,GAC/BK,EAAIG,KAAK,OACTJ,EAASC,EAAKJ,EAAa,EAAGA,OAG3B,IAAID,EAAcC,EAAa,EAClCG,EAASC,EAAK,EAAG,GACjBA,EAAIG,KAAK,OACTJ,EAASC,EAAKL,EAAc,EAAGC,OAE5B,CACH,GAAII,KACJD,GAASC,EAAK,EAAG,GACjBA,EAAIG,KAAK,OACTJ,EAASC,EAAKL,EAAc,EAAGA,EAAc,GAC7CK,EAAIG,KAAK,OACTJ,EAASC,EAAKJ,EAAa,EAAGA,GAEhC,MAAOI,IAIXzB,EAAOkC,OAAO,WAAc,MAAOlC,GAAOgB,MAAS,WACjDG,MAGFnB,EAAOkC,OAAO,WAAc,MAAOlC,GAAOe,OAAU,WAClDI,MAGFnB,EAAOkC,OAAO,WAAc,MAAOlC,GAAOiB,MAAS,WACjDE","file":"ap.directive.all.min.js","sourcesContent":["\nvar apDirective = angular.module('ap.directive', []);\n\n\n'use strict';\n\napDirective\n\n/**\n here: http://www.tuicool.com/articles/3Mbi2y6\n angular.constant() for inject the apply js file.\n */\n.constant('jquerySlimscroll', [\n  {\n    name:\"jquerySlimscroll\",\n    module:true,\n    files:[\n      \"bower_components/jquery-slimscroll/jquery.slimscroll.min.js\"\n    ]\n  }\n])\n.directive('apSlimscroll', function () {\n  return {\n    restrict: 'ACE',\n    scope: {\n      content: '@'\n    },\n    transclude: true,\n    template: '<div class=\"ap-slimscroll-content\" ng-transclude><div>',\n    link: ['$scope', 'element', 'attrs',\n      function ($scope, element, attrs) {\n        $(element).slimscroll({\n          height: 'auto'\n        });\n      }\n    ],\n    controller: ['$scope', function ($scope) {\n    }]\n  };\n});\n'use strict';\n\napDirective.directive('apHorizontal', function () {\n  return {\n    restrict: 'ACE',\n    scope: {\n      img: '@',\n      content: '@'\n    },\n    // template: '<div ng-bind-html=\"markdownHtml\"></div>',\n    templateUrl: 'templates/directive/horizontal/index.html',\n    controller: ['$scope', function ($scope) {\n    }]\n  }\n});\n\n'use strict';\napDirective.directive('apItemArticle', function () {\n  return {\n    restrict: 'E',\n    scope: {\n      title: '@',\n      url: '@',\n      content: '@',\n      img: '@',\n      author: '@',\n      date: '@',\n      comment: '@',\n      authorUrl: '@'\n    },\n    templateUrl: '/templates/directive/item/index.html',\n    // template: `\n    //   <article class=\"item-article\">\n    //     <div class=\"item-article-content\">\n    //       <div class=\"item-article-link\">\n    //         <img style=\"-webkit-user-select: none; cursor: zoom-in;\" src=\"{{ img }}\">\n    //       </div>\n    //       <div class=\"item-article-info\">\n    //         <h2 class=\"item-article-info-title\">\n    //           <a href=\"{{ url }}\" target=\"_black\" class=\"anim-link\">{{ title }}</a>\n    //         </h2>\n    //         <div class=\"item-article-info-content\">{{ content }}</div>\n    //         <div class=\"item-article-pub-info\">\n    //           <div class=\"item-article-pub-info-author\">\n    //             <i class=\"fa fa-user\"></i>\n    //             <a href=\"{{ authorUrl }}\" target=\"_black\">{{ author }}</a>\n    //             <span class=\"item-article-pub-info-separator\">•</span>\n    //           </div>\n    //           <div class=\"item-article-pub-info-date\">\n    //             <i class=\"fa fa-clock-o\"></i>\n    //             <span>{{ date }}</span>\n    //             <span class=\"item-article-pub-info-separator\">•</span>\n    //           </div>\n    //           <div class=\"item-article-pub-info-comment\">\n    //             <i class=\"fa fa-commenting-o\"></i>\n    //             <span>{{ comment }}</span>\n    //           </div>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   </article>\n    // `,\n    controller: ['$scope', function ($scope) {\n      // console.log('test => ', $scope.img);\n    }]\n  };\n});\n\n'use strict';\n\napDirective.directive('apPaginate', function () {\n  return {\n    restrict: 'ACE',\n    scope: {\n      total: '@',\n      page: '@',\n      size: '@',\n      click: '='\n    },\n    // template: '<div ng-bind-html=\"markdownHtml\"></div>',\n    templateUrl: 'templates/directive/pagination/index.html',\n    controller: ['$scope', function ($scope) {\n      $scope.currentPage = $scope.page;\n      $scope.totalPages = $scope.size;\n\n      $scope.toPage = function (num) {\n        click(num);\n      };\n\n      $scope.prevPage = function () {\n        var currentPage = $scope.currentPage - 1;\n        currentPage = currentPage < 1 ? 1 : currentPage;\n        click(currentPage);\n      };\n\n      $scope.nextPage = function () {\n        var currentPage = parseInt($scope.currentPage) + 1;\n        currentPage = currentPage > $scope.totalPages ? $scope.totalPages : currentPage;\n        click(currentPage);\n      };\n\n      $scope.getNumber = function () {\n        var totalPages = parseInt($scope.totalPages);\n        var currentPage = parseInt($scope.currentPage);\n        var arr = [];\n        if (totalPages <= 9) {\n          return addArray(arr, 1, totalPages);\n        } else {\n          if ( currentPage <= 4) {\n            addArray(arr, 1, currentPage + 1);\n            arr.push('...')\n            addArray(arr, totalPages - 1, totalPages);\n          }\n\n          else if (currentPage > totalPages - 4){\n            addArray(arr, 1, 2);\n            arr.push('...')\n            addArray(arr, currentPage - 1, totalPages);\n          }\n          else {\n            var arr = [];\n            addArray(arr, 1, 2);\n            arr.push('...')\n            addArray(arr, currentPage - 1, currentPage + 1);\n            arr.push('...')\n            addArray(arr, totalPages - 1, totalPages);\n          }\n          return arr;\n        }\n      };\n\n      $scope.$watch(function () { return $scope.page; }, function() {\n        initPager();\n      });\n\n      $scope.$watch(function () { return $scope.total; }, function() {\n        initPager();\n      });\n\n      $scope.$watch(function () { return $scope.size; }, function() {\n        initPager();\n      });\n\n      function initPager() {\n        var total = $scope.total;\n        var size = $scope.size;\n        $scope.currentPage = $scope.page;\n        $scope.totalPages = total % size > 0 ? parseInt(total / size) + 1 : total / size;\n      }\n\n      function click(pageNumber) {\n        if ($scope.click) {\n          $scope.click(pageNumber);\n        }\n      }\n\n      function addArray(arr, start, end) {\n        for (start; start <= end; start ++) {\n          arr.push(start);\n        }\n        return arr;\n      }\n    }]\n  }\n});\n"],"sourceRoot":"/source/"}